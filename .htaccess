# cPanel/Passenger configuration for Django

# Enable Passenger
PassengerEnabled On
PassengerAppRoot /home/rmoktvux3m8e/public_html/pallottischoolkorba.edu.in/stvincentpallottischoolkorba-api
PassengerPython /home/rmoktvux3m8e/virtualenv/pallottischoolkorba.edu.in/stvincentpallottischoolkorba-api/3.11/bin/python3.11

# Serve static files directly using Alias
Alias /static /home/rmoktvux3m8e/public_html/pallottischoolkorba.edu.in/stvincentpallottischoolkorba-api/staticfiles
Alias /media /home/rmoktvux3m8e/public_html/pallottischoolkorba.edu.in/stvincentpallottischoolkorba-api/media

# Static files directory configuration
<Directory /home/rmoktvux3m8e/public_html/pallottischoolkorba.edu.in/stvincentpallottischoolkorba-api/staticfiles>
    PassengerEnabled off
    Options -Indexes +FollowSymLinks
    AllowOverride None
    Require all granted
    <IfModule mod_headers.c>
        Header set Cache-Control "max-age=31536000, public"
    </IfModule>
</Directory>

# Media files directory configuration
<Directory /home/rmoktvux3m8e/public_html/pallottischoolkorba.edu.in/stvincentpallottischoolkorba-api/media>
    PassengerEnabled off
    Options -Indexes +FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>

# CORS headers for API
<IfModule mod_headers.c>
    Header set Access-Control-Allow-Origin "*"
    Header set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, PATCH, OPTIONS"
    Header set Access-Control-Allow-Headers "Content-Type, Authorization"
</IfModule>

# Error handling
ErrorDocument 404 /404.html
ErrorDocument 500 /500.html
